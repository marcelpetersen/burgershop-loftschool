"use strict";function mobileMenu(){var t=document.querySelector(".nav-trigger"),e=document.querySelector(".nav-trigger__link"),n=document.querySelector(".nav-mobile"),r=n.querySelectorAll(".nav-mobile__item");e.addEventListener("click",function(e){s(e)});var o=!0,i=!1,l=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){a.value.addEventListener("click",function(e){s(e)})}}catch(e){i=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}function s(e){e.preventDefault(),t.classList.toggle("is-active"),n.classList.toggle("is-active")}}function accordionTeam(){var d=document.querySelectorAll(".worker");document.querySelector(".team__accordion").addEventListener("click",function(e){e.preventDefault(),function(e){var t=e.target,n=t.parentNode,r=t.nextElementSibling,o=r.firstElementChild.clientHeight;if(t.classList.contains("worker__name-link")){var i=!0,l=!1,a=void 0;try{for(var c,s=d[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var u=c.value;u!=n&&(u.classList.remove("is-active"),u.lastElementChild.style.height=0)}}catch(e){l=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(l)throw a}}n.classList.contains("is-active")?(n.classList.remove("is-active"),r.style.height=0):(n.classList.add("is-active"),r.style.height=o+"px")}}(e)})}function accordionMenu(){var m=document.querySelectorAll(".menu__item");document.querySelector(".menu__accordion").addEventListener("click",function(e){e.preventDefault(),function(c){var e=c.target.parentNode,s=e.nextElementSibling,u=e.parentNode,d=e.clientWidth,v=document.documentElement.clientWidth;c.target.classList.contains("menu__title")&&t();e=c.target,s=e.nextElementSibling,u=e.parentNode,d=e.clientWidth,e.classList.contains("menu__link")&&t();function t(){var e=!0,t=!1,n=void 0;try{for(var r,o=m[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;i!=u&&(i.classList.remove("is-active"),i.lastElementChild.style.width=0)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}if(u.classList.contains("is-active"))u.classList.remove("is-active"),s.style.width=0,c.currentTarget.style.transform="translateX(0)";else{u.classList.add("is-active");for(var l=void 0,a=0;a<m.length;a++)m[a]==u&&(l=m.length-1-a);480<v&&v<720?s.style.width=v-d*m.length+"px":v<=480?(c.currentTarget.style.transform="translateX("+d*l+"px)",s.style.width=v-d+"px"):s.style.width="520px"}}}(e)})}function popupReview(){document.querySelector(".reviews__list").addEventListener("click",function(e){!function(e,t){if(e.target.classList.contains("btn--review")){var n=document.querySelector("#overlay").content.querySelector(".review__open"),r=t.querySelector(".review__head").textContent,o=t.querySelector(".review__text").textContent,i=n.cloneNode(!0),l=i.querySelector("#review-close");i.querySelector(".review__head-hide").textContent=r,i.querySelector(".review__text-hide > p").textContent=o,document.body.appendChild(i),l.addEventListener("click",function(e){e.preventDefault(),document.body.removeChild(i)})}}(e,this)})}function showIngred(){var e=document.querySelectorAll(".burger__badge--ingred"),i=document.querySelectorAll(".burger__dropdown"),t=document.querySelectorAll(".modal__close--ingred"),n=!0,r=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var c=l.value;c.addEventListener("mouseenter",y),c.addEventListener("mouseleave",f)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=!0,u=!1,d=void 0;try{for(var v,m=t[Symbol.iterator]();!(s=(v=m.next()).done);s=!0){v.value.addEventListener("touchstart",f)}}catch(e){u=!0,d=e}finally{try{!s&&m.return&&m.return()}finally{if(u)throw d}}function f(){var e=!0,t=!1,n=void 0;try{for(var r,o=i[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.classList.add("visually-hidden")}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}function y(){var e=!0,t=!1,n=void 0;try{for(var r,o=i[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.classList.remove("visually-hidden")}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}}function mySlider(){var e=document.querySelector(".scroll-btn--next"),t=document.querySelector(".scroll-btn--prev"),n=document.querySelector(".slider__list"),l=n.querySelectorAll(".slider__item");e.addEventListener("click",function(){++a>l.length&&(a=1);r(),n.classList.remove("is-reverse"),o()}),t.addEventListener("click",function(){0==--a&&(a=l.length);r(),n.classList.add("is-reverse"),o()});var a=2;function r(){var e=a,t=!0,n=!1,r=void 0;try{for(var o,i=l[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.style.order=e,++e>l.length&&(e=1)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}function o(){n.classList.remove("is-move"),setTimeout(function(){n.classList.add("is-move")},50)}}function onePageScroll(){var r,o,e=document.querySelector(".wrapper"),n=e.querySelector(".main-content"),i=n.querySelectorAll(".page"),l=document.querySelectorAll(".nav-points__item"),a=document.querySelectorAll("[data-scroll-to]"),c=!1;function s(a){var e=-100*a+"%";function t(e){e[a].classList.add("is-active");var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;l!=e[a]&&l.classList.remove("is-active")}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}c||(c=!0,t(i),n.style.transform="translateY("+e+")",setTimeout(function(){c=!1,t(l)},1e3))}function u(e){var t=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.classList.contains("is-active"))return{iterIndex:t,iterActive:n,iterNext:n.nextElementSibling,iterPrev:n.previousElementSibling}}}(i);"up"===e&&t.iterNext&&s(t.iterIndex+1);"down"===e&&t.iterPrev&&s(t.iterIndex-1)}!function(){var e=function(t){t.addEventListener("click",function(e){e.preventDefault(),s(t.dataset.scrollTo)})},t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;e(l)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}(),document.addEventListener("wheel",function(e){var t=0<e.deltaY?"up":"down";u(t)}),document.addEventListener("keydown",function(e){switch(e.keyCode){case 40:u("up");break;case 38:u("down")}}),void 0===window.orientation&&-1===navigator.userAgent.indexOf("IEMobile")||(o=r=0,document.addEventListener("touchstart",function(e){r=e.changedTouches[0].screenY},!1),e.addEventListener("touchmove",function(e){return e.preventDefault()}),document.addEventListener("touchend",function(e){o=e.changedTouches[0].screenY;var t,n=100<(t=r-o)?"up":t<-100?"down":void 0;u(n)},!1))}function initMap(){setMarkers(new google.maps.Map(document.getElementById("myMap"),{zoom:10,center:{lat:59.94,lng:30.38},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}}))}mobileMenu(),accordionTeam(),accordionMenu(),popupReview(),showIngred(),mySlider(),onePageScroll();var markers=[{lat:59.915038,lng:30.486096,content:"Товарищеский проспект, 20/27"},{lat:59.94708381,lng:30.38481688,content:"Тверская улица, 16"},{lat:59.891295,lng:30.316907,content:"Московский проспект, 103к2"},{lat:59.973999,lng:30.311091,content:"улица Чапыгина, 13А"}];function setMarkers(r){var o={url:"img/svgicons/map-marker.svg",size:new google.maps.Size(46,57)};markers.forEach(function(e){var t=new google.maps.Marker({position:{lat:e.lat,lng:e.lng},title:"Нажми",icon:o,map:r}),n=new google.maps.InfoWindow({content:e.content});t.addListener("click",function(){n.open(t.get("myMap"),t)})})}
//# sourceMappingURL=main.min.js.map
