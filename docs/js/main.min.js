"use strict";function mobileMenu(){var t=document.querySelector(".nav-trigger"),e=document.querySelector(".nav-trigger__link"),n=document.querySelector(".nav-mobile"),r=n.querySelectorAll(".nav-mobile__item");e.addEventListener("click",function(e){s(e)});var i=!0,o=!1,l=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){a.value.addEventListener("click",function(e){s(e)})}}catch(e){o=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw l}}function s(e){e.preventDefault(),t.classList.toggle("is-active"),n.classList.toggle("is-active")}}function accordionTeam(){var d=document.querySelectorAll(".worker");document.querySelector(".team__accordion").addEventListener("click",function(e){e.preventDefault(),function(e){var t=e.target,n=t.parentNode,r=t.nextElementSibling,i=r.firstElementChild.clientHeight;if(t.classList.contains("worker__name-link")){var o=!0,l=!1,a=void 0;try{for(var c,s=d[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;u!=n&&(u.classList.remove("is-active"),u.lastElementChild.style.height=0)}}catch(e){l=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw a}}n.classList.contains("is-active")?(n.classList.remove("is-active"),r.style.height=0):(n.classList.add("is-active"),r.style.height=i+"px")}}(e)})}function accordionMenu(){var f=document.querySelectorAll(".menu__item");document.querySelector(".menu__accordion").addEventListener("click",function(e){e.preventDefault(),function(c){var e=c.target.parentNode,s=e.nextElementSibling,u=e.parentNode,d=e.clientWidth,v=document.documentElement.clientWidth;c.target.classList.contains("menu__title")&&t();e=c.target,s=e.nextElementSibling,u=e.parentNode,d=e.clientWidth,e.classList.contains("menu__link")&&t();function t(){var e=!0,t=!1,n=void 0;try{for(var r,i=f[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o!=u&&(o.classList.remove("is-active"),o.lastElementChild.style.width=0)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}if(u.classList.contains("is-active"))u.classList.remove("is-active"),s.style.width=0,c.currentTarget.style.transform="translateX(0)";else{u.classList.add("is-active");for(var l=void 0,a=0;a<f.length;a++)f[a]==u&&(l=f.length-1-a);480<v&&v<720?s.style.width=v-d*f.length+"px":v<=480?(c.currentTarget.style.transform="translateX("+d*l+"px)",s.style.width=v-d+"px"):s.style.width="520px"}}}(e)})}function popupReview(){document.querySelector(".reviews__list").addEventListener("click",function(e){!function(e,t){if(e.target.classList.contains("btn--review")){var n=document.querySelector("#overlay").content.querySelector(".review__open"),r=t.querySelector(".review__head").textContent,i=t.querySelector(".review__text").textContent,o=n.cloneNode(!0),l=o.querySelector("#review-close");o.querySelector(".review__head-hide").textContent=r,o.querySelector(".review__text-hide > p").textContent=i,document.body.appendChild(o),l.addEventListener("click",function(e){e.preventDefault(),document.body.removeChild(o)})}}(e,this)})}function showIngred(){var e=document.querySelectorAll(".burger__badge--ingred"),o=document.querySelectorAll(".burger__dropdown"),t=document.querySelectorAll(".modal__close--ingred"),n=!0,r=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var c=l.value;c.addEventListener("mouseenter",m),c.addEventListener("mouseleave",y)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var s=!0,u=!1,d=void 0;try{for(var v,f=t[Symbol.iterator]();!(s=(v=f.next()).done);s=!0){v.value.addEventListener("touchstart",y)}}catch(e){u=!0,d=e}finally{try{!s&&f.return&&f.return()}finally{if(u)throw d}}function y(){var e=!0,t=!1,n=void 0;try{for(var r,i=o[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.classList.add("visually-hidden")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}function m(){var e=!0,t=!1,n=void 0;try{for(var r,i=o[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.classList.remove("visually-hidden")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}function mySlider(){var e=document.querySelector(".scroll-btn--next"),t=document.querySelector(".scroll-btn--prev"),n=document.querySelector(".slider__list"),l=n.querySelectorAll(".slider__item");e.addEventListener("click",function(){++a>l.length&&(a=1);r(),n.classList.remove("is-reverse"),i()}),t.addEventListener("click",function(){0==--a&&(a=l.length);r(),n.classList.add("is-reverse"),i()});var a=2;function r(){var e=a,t=!0,n=!1,r=void 0;try{for(var i,o=l[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.style.order=e,++e>l.length&&(e=1)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function i(){n.classList.remove("is-move"),setTimeout(function(){n.classList.add("is-move")},50)}}function onePageScroll(){var r,i,e=document.querySelector(".wrapper"),n=e.querySelector(".main-content"),o=n.querySelectorAll(".page"),l=document.querySelectorAll(".nav-points__item"),a=document.querySelectorAll("[data-scroll-to]"),c=!1;function s(a){if(!c){var e=function(l){l[a].classList.add("is-active"),setTimeout(function(){var e=!0,t=!1,n=void 0;try{for(var r,i=l[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o!=l[a]&&o.classList.remove("is-active")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},50)};c=!0;var t=-100*a+"%";e(o),n.style.transform="translateY("+t+")",setTimeout(function(){c=!1,e(l)},500)}}function u(e){var t=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.classList.contains("is-active"))return{iterIndex:t,iterActive:n,iterNext:n.nextElementSibling,iterPrev:n.previousElementSibling}}}(o);"up"===e&&t.iterNext&&s(t.iterIndex+1);"down"===e&&t.iterPrev&&s(t.iterIndex-1)}!function(){var e=function(t){t.addEventListener("click",function(e){e.preventDefault(),s(t.dataset.scrollTo)})},t=!0,n=!1,r=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;e(l)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}(),e.addEventListener("wheel",function(e){var t=0<e.deltaY?"up":"down";u(t)}),void 0===window.orientation&&-1===navigator.userAgent.indexOf("IEMobile")||(i=r=0,e.addEventListener("touchstart",function(e){r=e.changedTouches[0].screenY},!1),e.addEventListener("touchmove",function(e){return e.preventDefault()}),e.addEventListener("touchend",function(e){i=e.changedTouches[0].screenY;var t,n=100<(t=r-i)?"up":t<-100?"down":void 0;u(n)},!1))}function initMap(){setMarkers(new google.maps.Map(document.getElementById("myMap"),{zoom:12,center:{lat:59.94,lng:30.38},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}}))}mobileMenu(),accordionTeam(),accordionMenu(),popupReview(),showIngred(),mySlider(),onePageScroll();var markers=[{lat:59.915038,lng:30.486096,title:"Товарищеский проспект, 20/27"},{lat:59.94708381,lng:30.38481688,title:"Тверская улица, 16"},{lat:59.891295,lng:30.316907,title:"Московский проспект, 103к2"},{lat:59.973999,lng:30.311091,title:"улица Чапыгина, 13А"}];function setMarkers(t){var n={url:"img/svgicons/map-marker.svg",size:new google.maps.Size(46,57)};markers.forEach(function(e){new google.maps.Marker({position:{lat:e.lat,lng:e.lng},title:e.title,icon:n,map:t})})}
//# sourceMappingURL=main.min.js.map
